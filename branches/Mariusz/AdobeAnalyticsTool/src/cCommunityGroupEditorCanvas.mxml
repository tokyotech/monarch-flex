<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="showCanvasHandler(event)" show="showCanvasHandler(event)" width="1012" height="616" >

	<mx:Metadata>
		[Event(name="OpenCommunityGroupSelectionClickedEvent", type="flash.events.Event")]
		[Event(name="OpenCommunityGroupHomeCanvasEvent", type="flash.events.Event")]
		[Event(name="OpenCommunityGroupBrowserCanvasEvent", type="flash.events.Event")]
		[Event(name="OpenAddWebsiteWindowEvent", type="cCreateWebsiteEvent")]
	</mx:Metadata>
	<mx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
		
		import mx.controls.Alert;
		
		///////////////////////////////////////////////////////////////////////////////////
		//
		//						   EVENT HANDLERS
		//
		///////////////////////////////////////////////////////////////////////////////////
		
		/**
		 * 	Called when the user clicks on the home label.
		 */
		private function homeLabelClickHandler(event:Event):void
		{
			var e:Event = new Event("OpenCommunityGroupHomeCanvasEvent");
			this.dispatchEvent(e);
		}
		
		/**
		 * 	Called when the user clicks on the add website button.
		 */
		private function addWebsiteButtonClickHandler(evet:Event):void
		{
			var e:cCreateWebsiteEvent = new cCreateWebsiteEvent("OpenAddWebsiteWindowEvent");
			e.mCommunityGroupId = mCommunityGroupId;
			e.mCommunityGroupName = mCommunityGroupName;
			this.dispatchEvent(e);
		}
		
		/**
		 * 	Called when the user hovers the mouse over the home label.
		 */
		private function homeLabelRollOverHandler(event:Event):void
		{
			mHomeLabel.setStyle("color", "0xFF6666");
		}
		
		/**
		 * 	Called when the user hovers the mouse away from the home label.
		 */
		private function homeLabelRollOutHandler(event:Event):void
		{
			mHomeLabel.setStyle("color", "0x11d30c");
		}
		
		/**
		 * 	Called when the user clicks on the community label.
		 */
		private function communityLabelClickHandler(event:Event):void
		{
			var e:Event = new Event("OpenCommunityGroupSelectionClickedEvent");
			this.dispatchEvent(e);
		}
		
		/**
		 * 	Called when the user hovers the mouse over the community label.
		 */
		private function communityLabelRollOverHandler(event:Event):void
		{
			mCommunityGroupLabel.setStyle("color", "0xFF6666");
		}
		
		/**
		 * 	Called when the user hovers the mouse away from the community label.
		 */
		private function communityLabelRollOutHandler(event:Event):void
		{
			mCommunityGroupLabel.setStyle("color", "0x11d30c");
		}
		
		/**
		 * 	Called when the user clicks on the community group name label.
		 */
		private function communityNameLabelClickHandler(event:Event):void
		{
			var e:Event = new Event("OpenCommunityGroupBrowserCanvasEvent");
			this.dispatchEvent(e);
		}
		
		/**
		 * 	Called when the user hovers the mouse over the community group name label.
		 */
		private function communityNameLabelRollOverHandler(event:Event):void
		{
			mCommunityGroupNameLabel.setStyle("color", "0xFF6666");
		}
		
		/**
		 * 	Called when the user hovers the mouse away from the community group name label.
		 */
		private function communityNameLabelRollOutHandler(event:Event):void
		{
			mCommunityGroupNameLabel.setStyle("color", "0x11d30c");
		}
		
		
		///////////////////////////////////////////////////////////////////////////////////
		//
		//						   CANVAS EVENT HANDLERS
		//
		///////////////////////////////////////////////////////////////////////////////////
		
		
		/**
		 * 	Called when the canvas is displayed.
		 */
		private function showCanvasHandler(event:Event):void
		{
			mCommunityGroupNameLabel.label = mCommunityGroupName;
			mCommunityGroupNameLabel.x =+ mSep2.x + mSep2.measureText(mSep2.text).width + 10;
			mSep3.x =+ mCommunityGroupNameLabel.x + mCommunityGroupNameLabel.width + 10;
			mEditLabel.x =+ mSep3.x + mSep3.measureText(mSep3.text).width + 10;
			mNameTextBox.text = mCommunityGroupName;
		}
		
		
		///////////////////////////////////////////////////////////////////////////////////
		//
		//						   MEMBER FUNCTIONS
		//
		///////////////////////////////////////////////////////////////////////////////////
		
		/**
		 * 	Updates the internal information of this object.
		 */
		public function updateInformation(communityName:String,
										  communityId:int,
										  websites:ArrayCollection,
										  keywords:ArrayCollection):void
		{
			mCommunityGroupName = communityName;
			mCommunityGroupId = communityId;
			mKeywords = keywords;
			mWebsites = websites;
		}
		
		
		///////////////////////////////////////////////////////////////////////////////////
		//
		//						   DATA MEMBERS
		//
		///////////////////////////////////////////////////////////////////////////////////
		
		// name of the community group
		private var mCommunityGroupName:String = "";
		// id of the community group
		private var mCommunityGroupId:int = -1;
		// community group keywords
		public var mKeywords:ArrayCollection = null;
		// community group websites
		public var mWebsites:ArrayCollection = null;
		
			
		]]>
	</mx:Script>
	<mx:LinkButton click="homeLabelClickHandler(event)" label="Home" id="mHomeLabel" top="7" left="10" textDecoration="normal" textAlign="left"/>
	<mx:LinkButton click="communityLabelClickHandler(event)" label="My Community Groups" id="mCommunityGroupLabel" top="7" left="85" textAlign="left" textDecoration="normal"/>
	<mx:LinkButton click="communityNameLabelClickHandler(event)" id="mCommunityGroupNameLabel" top="7" left="256" textAlign="center" textDecoration="normal"/>
	<mx:Label text="&gt;" styleName="breadCrumbSeparator" top="5" left="65" id="mSep1"/>
	<mx:Label text="&gt;" styleName="breadCrumbSeparator" top="5" left="237" id="mSep2"/>
	<mx:Label text="&gt;" styleName="breadCrumbSeparator" top="5" left="324" id="mSep3"/>
	<mx:Label text="Edit" id="mEditLabel" styleName="pageTitle" top="5" left="351"/>
	<mx:Label text="Basic Information" fontSize="16" id="mBasicLabel" width="370" x="10" verticalCenter="-241"/>
	<mx:Label text="Change the name and icon for teh currently selected community group." fontSize="12" textDecoration="normal" id="mBasicLabel0" width="370" x="10" verticalCenter="-211" selectable="false"/>
	<mx:Label text="Keywords registered with this community group." fontSize="12" id="mBasicLabel1" width="274" x="419" verticalCenter="-211" selectable="false"/>
	<mx:Label text="Add a new keyword under this community group." fontSize="12" textDecoration="normal" id="mBasicLabel3" width="274" x="419" verticalCenter="226" selectable="false"/>
	<mx:Label text="Add a new website under this community group." fontSize="12" textDecoration="normal" id="mBasicLabel5" width="274" x="728" verticalCenter="226" selectable="false"/>
	<mx:Label text="Websites registered with this community group." fontSize="12" textDecoration="normal" id="mBasicLabel2" width="274" x="728" verticalCenter="-211" selectable="false"/>
	<mx:Label text="Keywords" fontSize="16" textDecoration="underline" id="mKeywordsLabel" width="117" verticalCenter="-241" horizontalCenter="-29"/>
	<mx:Label text="Websites" fontSize="16" textDecoration="underline" id="mWebsiteLabel" width="117" verticalCenter="-241" horizontalCenter="280"/>
	<mx:Label x="10" y="117" text="Name :" fontSize="12"/>
	<mx:Label y="552" text="Add New Keyword :" horizontalCenter="-33"/>
	<mx:Label x="19" y="170" text="Icon :" fontSize="12"/>
	<mx:TextInput x="68" y="119" width="236" id="mNameTextBox"/>
	<mx:TextInput x="68" y="242" width="236" id="mIconTextBox"/>
	<mx:TextInput y="552" width="157" x="536" id="mKeywordTextBox"/>
	<mx:Button x="312" y="240" label="Browse" id="mBrowseButton"/>
	<mx:Button y="584" label="Submit" horizontalCenter="154" id="mSubmitButton"/>
	<mx:Button y="550" click="addWebsiteButtonClickHandler(event)" label="Add Website"   horizontalCenter="446" id="mAddWebsiteButton"/>
	<mx:Button x="68" y="272" label="Save"   id="mSaveButton"/>
	<mx:VBox y="115" height="401" width="274" x="419" id="mKeywordsVBox">
	</mx:VBox>
	<mx:VBox height="401" width="274" y="115" x="728" id="mWebsitesVBox">
	</mx:VBox>
	<mx:Canvas x="68" y="170" width="64" height="64" backgroundImage="@Embed(source='../images/sample.jpg')">
	</mx:Canvas>
	<mx:TextArea x="144" y="171" height="63" selectable="false" wordWrap="true" editable="false" text="Import an icon to represent your community group. The icon must be a JPEG file with dimensions 64 x 64." width="236" borderThickness="0"/>
	
</mx:Canvas>
