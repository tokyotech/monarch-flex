<?xml version="1.0" encoding="utf-8"?>
<mx:Window xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="creationCompleteHandler(event)" close="closingHandler(event)" layout="absolute" width="444" height="440" backgroundColor="#828282" showStatusBar="false" showInAutomationHierarchy="false" showGripper="false" showTitleBar="false" maxHeight="440" maxWidth="444" minHeight="440" minWidth="444">

	<mx:Metadata>
		[Event(name="CreateWebsiteEvent", type="cCreateWebsiteEvent")]
	</mx:Metadata>
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
		
			///////////////////////////////////////////////////////////////////////////////////
			//
			//								EVENT HANDLERS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			/**
			 * 	Event handler which is triggered by the user clicking the Create
			 * 	Website button.
			 */
			private function createWebsiteClickHandler(event:Event):void
			{
				createAccountProcess();
			}
			
			/**
			 *  Event handler triggered when the user clicks the ENTER keyboard
			 *  button while the cursor lies within the website name text box.
			 */
			private function websiteNameKeyDownHandler(event:KeyboardEvent):void
			{
				if(event.keyCode == Keyboard.ENTER) {
					createAccountProcess();
				}
			}
			
			/**
			 *  Event handler triggered when the user clicks the ENTER keyboard
			 *  button while the cursor lies within the website URL text box.
			 */
			private function websiteURLKeyDownHandler(event:KeyboardEvent):void
			{
				if(event.keyCode == Keyboard.ENTER) {
					createAccountProcess();
				}
			}
			
			/**
			 * 	Event handler which is triggered by the user clicking the Cancel button.
			 */
			private function cancelClickHandler(event:Event):void
			{
				cancelProcess();
			}
			
			/**
			 * 	Event handler called when the window is first created.
			 */
			private function creationCompleteHandler(event:Event):void
			{
				mWebsiteNameTextBox.setFocus();
				//this.height = 234;
			}
			
			/**
			 * 	Event handler triggered when the window is about to close.
			 */
			private function closingHandler(event:Event):void
			{
				cancelProcess();
			}
			
			
			///////////////////////////////////////////////////////////////////////////////////
			//
			//								MEMBER FUNCTIONS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			/**
			 * 	Function which handles the processing of a create account event.
			 */
			private function createAccountProcess():void
			{
				if(mWebsiteNameTextBox.text.length == 0) {
					Alert.show("Please enter a website name before proceeding.", "Error", 1, this);
					return;
				}
					
				if(mWebsiteURLTextBox.text.length == 0) {
					Alert.show("Please enter a website URL before proceeding.", "Error", 1, this);
					return;
				}
				
				var e:cCreateWebsiteEvent = new cCreateWebsiteEvent("cCreateWebsiteEvent");
				
				var websiteType:String = "";
				if(mForumTypeRadioButton.selected) {
					websiteType = e.WEBSITE_TYPE_FORUM;
				}
				else if(mBlogTypeRadioButton.selected) {
					websiteType = e.WEBSITE_TYPE_BLOG;
				}
				else if(mNewsTypeRadioButton.selected) {
					websiteType = e.WEBSITE_TYPE_NEWS;
				}
				
				if(websiteType.length == 0) {
					Alert.show("Please select a type for the website before proceeding.", "Error", 1, this);
					return;
				}
				
				e.mType = e.CREATE_WEBSITE;
				e.mWebsiteType = websiteType;
				e.mWebsiteName = mWebsiteNameTextBox.text;
				e.mWebsiteURL = mWebsiteURLTextBox.text;
				e.mCommunityGroupId = mCommunityGroupId;
				this.dispatchEvent(e);
				this.close();
			}
			
			/**
			 * 	Function which handles the processing of a cancel event.
			 */
			private function cancelProcess():void
			{
				var e:cCreateWebsiteEvent = new cCreateWebsiteEvent("cCreateWebsiteEvent");
				e.mType = e.CANCEL;
				this.dispatchEvent(e);
				this.close();
			}
			
			/**
			 * 	Function which updates the data members for this window.
			 */
			public function updateInformation(communityGroupId:int):void
			{
				mCommunityGroupId = communityGroupId;
			}
			
			
			///////////////////////////////////////////////////////////////////////////////////
			//
			//								DATA MEMBERS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			private var mCommunityGroupId:int = -1;
			
		]]>
	</mx:Script>

	<mx:Label x="144.5" y="10" text="Add Website Creator" fontSize="14" color="#F0F0F0" id="mCreateWebsiteLabel" textDecoration="underline"/>
	<mx:Button x="333" y="406" click="createWebsiteClickHandler(event)" id="cCreateWebsiteButton" label="Add Website" toolTip="Create the account"/>
	<mx:Button x="262" y="406" click="cancelClickHandler(event)" id="mCancelButton" label="Cancel" toolTip="Cancel the create account aperation"/>
	<mx:Canvas x="14" y="63" width="418" height="131" backgroundColor="#FFFFFF" backgroundAlpha="0.1" id="mAddNewWebsiteContainer">
		<mx:Label x="7.5" y="10" text="Please enter the name, URL, and select the type of website you want  " color="#F0F0F0"/>
		<mx:Label x="7.5" y="25" text="to create - then click Add Website." color="#F0F0F0"/>
		<mx:Label x="7.5" y="53" text="Website Name :" keyDown="websiteNameKeyDownHandler(event)" color="#F0EEEE"/>
		<mx:Label x="7.5" y="79" text="Website URL :" keyDown="websiteURLKeyDownHandler(event)" color="#F0EEEE"/>
		<mx:Label x="7.5" y="105" text="Website Type :" color="#F0EEEE"/>
		<mx:TextInput x="110.5" y="51" width="296" id="mWebsiteNameTextBox"/>
		<mx:TextInput x="110.5" y="77" width="296" id="mWebsiteURLTextBox"/>
		<mx:RadioButton x="110.5" y="103" label="Forum" color="#D3D3D3" textRollOverColor="#11D30C" textSelectedColor="#FF6666" id="mForumTypeRadioButton"/>
		<mx:RadioButton x="178.5" y="103" label="Blog" color="#D3D3D3" textRollOverColor="#11D30C" textSelectedColor="#FF6666" id="mBlogTypeRadioButton"/>
		<mx:RadioButton x="236" y="103" label="News" color="#D3D3D3" textRollOverColor="#11D30C" textSelectedColor="#FF6666" id="mNewsTypeRadioButton"/>
	</mx:Canvas>
	<mx:RadioButton x="10" y="33" label="Add New Website" color="#F0F0F0" selected="true" textRollOverColor="#B7BABC" textSelectedColor="#B7BABC" id="mAddNewWebsiteRadioButton"/>
	<mx:RadioButton x="14" y="202" label="Add Previously Setup Website" color="#F0F0F0" textRollOverColor="#B7BABC" textSelectedColor="#B7BABC" id="AddPrevWebsiteRadioButton"/>
	<mx:VBox x="14" y="232" height="166" width="418" backgroundColor="#FFFFFF" backgroundAlpha="0.1" enabled="false" disabledOverlayAlpha=".2">
	</mx:VBox>
	
</mx:Window>
