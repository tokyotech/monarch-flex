<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" rollOver="canvasRollOverHandler(event)" rollOut="canvasRollOutHandler(event)" creationComplete="showCanvasHandler(event)" width="390" height="92" cornerRadius="20" alpha="1.0" backgroundColor="#FFFFFF" backgroundAlpha="0.0">
	
	<mx:Metadata>
		[Event(name="CommGroupGraphicClickedEvent", type="cCommGroupGraphicClickedEvent")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
			import mx.effects.Fade;
			import mx.effects.Move;
			import mx.effects.Tween;
			
			
			///////////////////////////////////////////////////////////////////////////////////
			//
			//							   EVENT HANDLERS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			/**
			 * 	Called when the user hovers the mouse over the main canvas.
			 */
			private function mainPanelRollOverHandler(event:Event):void
			{
				mMainPanelCanvas.setStyle("borderColor", "0xffe400");
			}
			
			/**
			 * 	Called when the user hovers the mouse away from the main canvas.
			 */
			private function mainPanelRollOutHandler(event:Event):void
			{
				mMainPanelCanvas.setStyle("borderColor", "0xb7babc");
			}
			
			/**
			 *  Fires an event signaling that the user has clicked the community
			 *  group graphic.
			 */
			private function graphicClickedHandler(event:Event):void
			{
				var e:cCommGroupGraphicClickedEvent = new cCommGroupGraphicClickedEvent("cCommGroupGraphicClickedEvent");
				e.mCommGroupName = mCommGroupName;
				e.mCommGroupId = mId;
				this.dispatchEvent(e);
			}
			
			/**
			 * 	Handler called when the canvas opens. It initializes the child components.
			 */
			private function showCanvasHandler(event:Event):void
			{
				if(mCommGroupName.length == 0) {
					mCommNameLabel.text = "[Name Not Available]";
				}
				else {
					mCommNameLabel.text = mCommGroupName;
				}
				if(mCreator.length == 0) {
					mCreatorLabel.text = "Created by : [Not Available]";
				}
				else {
					mCreatorLabel.text = "Created by : " + mCreator;
				}
				if(mDateCreated.length == 0) {
					mDateLabel.text = "Created on : [Not Available]";
				}
				else {
					mDateLabel.text = "Created on : " + mDateCreated;
				}
				mNumWebsiteLabel.text = "Number Of Websites : " + mNumWebsites
			}
			
			
			///////////////////////////////////////////////////////////////////////////////////
			//
			//							   CANVAS EVENT HANDLERS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			/**
			 * 	Called when the user hovers the mouse away from this canvas.
			 */
			private function canvasRollOverHandler(event:Event):void
			{
				var fade:Fade = new Fade();
				fade.alphaFrom = 0.8;
				fade.alphaTo = 1;
				fade.duration = 500;
				fade.target = this;
				fade.play();
			}
			
			/**
			 * 	Called when the user hovers the mouse away from this canvas.
			 */
			private function canvasRollOutHandler(event:Event):void
			{
				var fade:Fade = new Fade();
				fade.alphaFrom = 1;
				fade.alphaTo = 0.8;
				fade.duration = 500;
				fade.target = this;
				fade.play();
			}
			
			
			///////////////////////////////////////////////////////////////////////////////////
			//
			//							   MEMBER FUNCTIONS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			/**
			 * 	Used to set the data members of this component for later use.
			 */
			public function updateInformation(commGroupName:String,
											  creator:String,
											  dateCreated:String,
											  numWebsites:String,
											  id:int):void
			{
				mCommGroupName = commGroupName;
				mCreator = creator;
				mDateCreated = dateCreated;
				mNumWebsites = numWebsites;
				mId = id;
			}
			
			
			///////////////////////////////////////////////////////////////////////////////////
			//
			//							   DATA MEMBERS
			//
			///////////////////////////////////////////////////////////////////////////////////
			
			// name of the community group
			private var mCommGroupName:String = "";
			// the creator of the community
			private var mCreator:String = "";
			// the date the community group was created
			private var mDateCreated:String = "";
			// the community group id
			private var mId:int = 0;
			// the number of websites under the community
			private var mNumWebsites:String = "";
			
		]]>
	</mx:Script>
	<mx:Canvas x="6" y="6" width="377" backgroundColor="#65ACC9" borderStyle="solid" cornerRadius="19" backgroundAlpha="0.4" id="mMainPanelCanvas" borderColor="#4B4A4A" alpha="1.0">
		<mx:Label x="89" y="34" text="Created on December 12, 2030" width="276" fontFamily="Arial" id="mDateLabel" color="#BFBFBF"/>
		<mx:Label x="89" y="45" text="Creator : Mariusz Choroszy" width="276" fontFamily="Arial" id="mCreatorLabel" color="#BFBFBF"/>
		<mx:Label x="89" y="57" text="Number of Websites : 0" width="276" fontFamily="Arial" id="mNumWebsiteLabel" color="#BFBFBF"/>
		<mx:Label x="89" y="12" text="Some Communty Group" fontSize="16" width="276" id="mCommNameLabel" color="#ECECEC"/>
		<mx:Canvas x="17" y="8" width="64" height="64" backgroundImage="@Embed(source='../images/sample.jpg')" id="mImageCanvas">
		</mx:Canvas>
		<mx:Canvas x="0" y="0" click="graphicClickedHandler(event)" rollOver="mainPanelRollOverHandler(event)" rollOut="mainPanelRollOutHandler(event)" width="375" height="78" id="mOverlayCanvas" backgroundAlpha="0.05">
		</mx:Canvas>
	</mx:Canvas>
</mx:Canvas>
